{"version":3,"sources":["context/Reducer.js","context/Context.js","components/topbar/Topbar.jsx","components/header/Header.jsx","components/post/Post.jsx","components/posts/Posts.jsx","components/sidebar/Sidebar.jsx","pages/homepage/Homepage.jsx","pages/login/Login.jsx","pages/register/Register.jsx","pages/settings/Settings.jsx","components/singlePost/SinglePost.jsx","pages/single/Single.jsx","pages/write/Write.jsx","App.jsx","index.js"],"names":["Reducer","state","action","type","user","isFetching","error","payload","INITIAL_STATE","JSON","parse","localStorage","getItem","Context","createContext","ContextProvider","children","useReducer","dispatch","useEffect","setItem","stringify","Provider","value","Topbar","useContext","className","to","onClick","src","profilePic","alt","Header","Post","post","photo","categories","map","c","name","_id","title","Date","createdAt","toDateString","desc","Posts","posts","Sidebar","useState","category","setCategory","a","axios","get","res","data","getCategories","Homepage","setPosts","search","useLocation","fetchPosts","Login","userRef","useRef","passwordRef","handleSubmit","e","preventDefault","username","current","password","onSubmit","placeholder","ref","disabled","Register","setUsername","email","setEmail","setPassword","setError","window","location","replace","onChange","target","style","color","marginTop","Settings","file","setFile","success","setSuccess","updatedUser","userId","FormData","filename","now","append","put","URL","createObjectURL","htmlFor","id","display","files","textAlign","SinglePost","path","pathname","split","setPost","setTitle","setDesc","updateMode","setUpdateMode","getPost","handleDelete","delete","handleUpdate","autoFocus","maxLength","Single","Write","newPost","App","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f067c75e.chunk.js","sourcesContent":["const Reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'LOGIN_START':\r\n      return {\r\n        user: null,\r\n        isFetching: true,\r\n        error: false,\r\n      };\r\n    case 'LOGIN_SUCCESS':\r\n      return {\r\n        user: action.payload,\r\n        isFetching: false,\r\n        error: false,\r\n      };\r\n    case 'LOGIN_FAILURE':\r\n      return {\r\n        user: null,\r\n        isFetching: false,\r\n        error: true,\r\n      };\r\n    case 'UPDATE_START':\r\n      return {\r\n        ...state,\r\n        isFetching: true,\r\n      };\r\n    case 'UPDATE_SUCCESS':\r\n      return {\r\n        user: action.payload,\r\n        isFetching: false,\r\n        error: false,\r\n      };\r\n    case 'UPDATE_FAILURE':\r\n      return {\r\n        user: state.user,\r\n        isFetching: false,\r\n        error: true,\r\n      };\r\n    case 'LOGOUT':\r\n      return {\r\n        user: null,\r\n        isFetching: false,\r\n        error: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default Reducer;\r\n","import {createContext, useReducer, useEffect} from 'react';\r\nimport Reducer from './Reducer';\r\n\r\nconst INITIAL_STATE = {\r\n  user: JSON.parse (localStorage.getItem ('user')) || null,\r\n  isFetching: false,\r\n  error: false,\r\n};\r\n\r\nexport const Context = createContext (INITIAL_STATE);\r\n\r\nexport const ContextProvider = ({children}) => {\r\n  const [state, dispatch] = useReducer (Reducer, INITIAL_STATE);\r\n\r\n  useEffect (\r\n    () => {\r\n      localStorage.setItem ('user', JSON.stringify (state.user));\r\n    },\r\n    [state.user]\r\n  );\r\n\r\n  return (\r\n    <Context.Provider\r\n      value={{\r\n        user: state.user,\r\n        isFetching: state.isFetching,\r\n        error: state.error,\r\n        dispatch,\r\n      }}\r\n    >\r\n      {children}\r\n    </Context.Provider>\r\n  );\r\n};\r\n","import {useContext} from 'react';\nimport {Link} from 'react-router-dom';\nimport {Context} from '../../context/Context';\nimport './topbar.css';\n\nexport default function Topbar () {\n  const {user, dispatch} = useContext (Context);\n  const PF = 'https://dynamicblogapp.herokuapp.com/images/';\n\n  const handleLogout = () => {\n    dispatch ({type: 'LOGOUT'});\n  };\n\n  return (\n    <div className=\"top\">\n      <div className=\"topLeft\">\n        <i className=\"topIcon fab fa-facebook-square\" />\n        <i className=\"topIcon fab fa-twitter-square\" />\n        <i className=\"topIcon fab fa-pinterest-square\" />\n        <i className=\"topIcon fab fa-instagram-square\" />\n      </div>\n      <div className=\"topCenter\">\n        <ul className=\"topList\">\n          <li className=\"topListItem\">\n            <Link className=\"link\" to=\"/\">\n              HOME\n            </Link>\n          </li>\n          <li className=\"topListItem\">\n            <Link className=\"link\" to=\"/\">\n              ABOUT\n            </Link>\n          </li>\n          <li className=\"topListItem\">\n            <Link className=\"link\" to=\"/\">\n              CONTACT\n            </Link>\n          </li>\n          <li className=\"topListItem\">\n            <Link className=\"link\" to=\"/write\">\n              WRITE\n            </Link>\n          </li>\n          <li className=\"topListItem\" onClick={handleLogout}>\n            {user && 'LOGOUT'}\n          </li>\n        </ul>\n      </div>\n      <div className=\"topRight\">\n        {user\n          ? <Link to=\"/settings\">\n              <img className=\"topImg\" src={PF + user.profilePic} alt=\"\" />\n            </Link>\n          : <ul className=\"topList\">\n              <li className=\"topListItem\">\n                <Link className=\"link\" to=\"/login\">\n                  LOGIN\n                </Link>\n              </li>\n              <li className=\"topListItem\">\n                <Link className=\"link\" to=\"/register\">\n                  REGISTER\n                </Link>\n              </li>\n            </ul>}\n        <i className=\"topSearchIcon fas fa-search\" />\n      </div>\n    </div>\n  );\n}\n","import './header.css';\n\nexport default function Header () {\n  return (\n    <div className=\"header\">\n      <div className=\"headerTitles\">\n        <span className=\"headerTitleSm\">Dynamic</span>\n        <span className=\"headerTitleLg\">BLOG</span>\n      </div>\n      <img\n        className=\"headerImg\"\n        src=\"https://images.pexels.com/photos/1167355/pexels-photo-1167355.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\"\n        alt=\"\"\n      />\n    </div>\n  );\n}\n","import {Link} from 'react-router-dom';\nimport './post.css';\n\nexport default function Post({post}) {\n  const PF = 'https://dynamicblogapp.herokuapp.com/images/';\n\n  return (\n    <div className=\"post\">\n      {post.photo && <img className=\"postImg\" src={PF + post.photo} alt=\"\" />}\n\n      <div className=\"postInfo\">\n        <div className=\"postCats\">\n\n          {post.categories.map (c => (\n            <span className=\"postCat\">\n              <Link className=\"link\" to=\"/posts?cat=Music\">\n                {c.name}\n              </Link>\n            </span>\n          ))}\n        </div>\n\n        <Link to={`/post/${post._id}`} className=\"link\">\n          <span className=\"postTitle\">{post.title}</span>\n        </Link>\n        <hr />\n        <span className=\"postDate\">\n          {new Date (post.createdAt).toDateString ()}\n        </span>\n      </div>\n      <p className=\"postDesc\">\n        {post.desc}\n      </p>\n    </div>\n  );\n}\n","import Post from '../post/Post';\nimport './posts.css';\n\nexport default function Posts({posts}) {\n  return (\n    <div className=\"posts\">\n      {posts.map (post => <Post post={post} />)}\n\n    </div>\n  );\n}\n","import {useEffect, useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport './sidebar.css';\nimport axios from 'axios';\n\nexport default function Sidebar () {\n  const [category, setCategory] = useState ([]);\n\n  useEffect (() => {\n    const getCategories = async () => {\n      const res = await axios.get ('/categories');\n      setCategory (res.data);\n    };\n\n    getCategories ();\n  }, []);\n\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebarItem\">\n        <span className=\"sidebarTitle\">ABOUT ME</span>\n        <img\n          src=\"https://themegoods-cdn-pzbycso8wng.stackpathdns.com/grandblog/demo/wp-content/uploads/2015/11/aboutme.jpg\"\n          alt=\"\"\n        />\n        <p>\n          Laboris sunt aute cupidatat velit magna velit ullamco dolore mollit\n          amet ex esse.Sunt eu ut nostrud id quis proident.\n        </p>\n      </div>\n      <div className=\"sidebarItem\">\n        <span className=\"sidebarTitle\">CATEGORIES</span>\n        <ul className=\"sidebarList\">\n\n          {category.map (c => (\n            <li className=\"sidebarListItem\">\n              <Link className=\"link\" to={`/posts?category=${c.name}`}>\n                {c.name}\n              </Link>\n            </li>\n          ))}\n\n        </ul>\n      </div>\n      <div className=\"sidebarItem\">\n        <span className=\"sidebarTitle\">FOLLOW US</span>\n        <div className=\"sidebarSocial\">\n          <i className=\"sidebarIcon fab fa-facebook-square\" />\n          <i className=\"sidebarIcon fab fa-instagram-square\" />\n          <i className=\"sidebarIcon fab fa-pinterest-square\" />\n          <i className=\"sidebarIcon fab fa-twitter-square\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport Header from \"../../components/header/Header\";\nimport Posts from \"../../components/posts/Posts\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport \"./homepage.css\";\nimport axios from \"axios\";\nimport { useLocation } from \"react-router\";\n\nexport default function Homepage() {\n  const [posts, setPosts] = useState([]);\n  const {search} = useLocation();\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      const res = await axios.get(\"/posts\"+search);\n      // console.log(res.data);\n      setPosts(res.data);\n    }\n    fetchPosts();\n  }, [search]);\n\n  return (\n    <>\n      <Header />\n      <div className=\"home\">\n        <Posts posts={posts} />\n        <Sidebar />\n      </div>\n    </>\n  );\n}\n","import axios from 'axios';\nimport {useContext, useRef} from 'react';\nimport {Link} from 'react-router-dom';\nimport {Context} from '../../context/Context';\nimport './login.css';\n\nexport default function Login () {\n  const userRef = useRef ();\n  const passwordRef = useRef ();\n  const {dispatch, isFetching} = useContext (Context);\n\n  const handleSubmit = async e => {\n    e.preventDefault ();\n    dispatch ({type: 'LOGIN_START'});\n    try {\n      const res = await axios.post ('/auth/login', {\n        username: userRef.current.value,\n        password: passwordRef.current.value,\n      });\n      dispatch ({type: 'LOGIN_SUCCESS', payload: res.data});\n    } catch (err) {\n      dispatch ({type: 'LOGIN_FAILURE'});\n    }\n  };\n\n  return (\n    <div className=\"login\" onSubmit={handleSubmit}>\n      <span className=\"loginTitle\">Login</span>\n      <form className=\"loginForm\">\n        <label>Username</label>\n        <input\n          className=\"loginInput\"\n          type=\"text\"\n          placeholder=\"Enter Username\"\n          ref={userRef}\n        />\n        <label>Password</label>\n        <input\n          className=\"loginInput\"\n          type=\"password\"\n          placeholder=\"Enter Password\"\n          ref={passwordRef}\n        />\n        <button className=\"loginButton\" type=\"submit\" disabled={isFetching}>\n          Login\n        </button>\n      </form>\n      <button className=\"loginRegisterButton\">\n        <Link className=\"link\" to=\"/register\">\n          Register\n        </Link>\n      </button>\n    </div>\n  );\n}\n","import axios from 'axios';\nimport {useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport './register.css';\n\nexport default function Register () {\n  const [username, setUsername] = useState ('');\n  const [email, setEmail] = useState ('');\n  const [password, setPassword] = useState ('');\n  const [error, setError] = useState (false);\n\n  const handleSubmit = async e => {\n    e.preventDefault ();\n    setError (false);\n\n    try {\n      const res = await axios.post ('/auth/register', {\n        username,\n        email,\n        password,\n      });\n      res.data && window.location.replace ('/login');\n    } catch (err) {\n      setError (true);\n    }\n  };\n\n  return (\n    <div className=\"register\">\n      <span className=\"registerTitle\">Register</span>\n      <form className=\"registerForm\" onSubmit={handleSubmit}>\n        <label>Username</label>\n        <input\n          className=\"registerInput\"\n          type=\"text\"\n          placeholder=\"Enter Username\"\n          onChange={e => setUsername (e.target.value)}\n        />\n        <label>Email</label>\n        <input\n          className=\"registerInput\"\n          type=\"email\"\n          placeholder=\"Enter Email\"\n          onChange={e => setEmail (e.target.value)}\n        />\n        <label>Password</label>\n        <input\n          className=\"registerInput\"\n          type=\"password\"\n          placeholder=\"Enter Password\"\n          onChange={e => setPassword (e.target.value)}\n        />\n        <button className=\"registerButton\" type=\"submit\">Register</button>\n      </form>\n      <button className=\"registerLoginButton\">\n        <Link className=\"link\" to=\"/login\">\n          Login\n        </Link>\n      </button>\n      {error &&\n        <span style={{color: 'red', marginTop: '10px'}}>\n          Something went wrong!\n        </span>}\n    </div>\n  );\n}\n","import './settings.css';\nimport Sidebar from '../../components/sidebar/Sidebar';\nimport {useContext, useState} from 'react';\nimport {Context} from '../../context/Context';\nimport axios from 'axios';\n\nexport default function Settings () {\n  const [file, setFile] = useState (null);\n  const [username, setUsername] = useState ('');\n  const [email, setEmail] = useState ('');\n  const [password, setPassword] = useState ('');\n  const [success, setSuccess] = useState (false);\n\n  const {user, dispatch} = useContext (Context);\n  const PF = 'https://dynamicblogapp.herokuapp.com/images/';\n\n  const handleSubmit = async e => {\n    e.preventDefault ();\n    dispatch ({type: 'UPDATE_START'});\n    const updatedUser = {\n      userId: user._id,\n      username,\n      email,\n      password,\n    };\n    if (file) {\n      const data = new FormData ();\n      const filename = Date.now () + file.name;\n      data.append ('name', filename);\n      data.append ('file', file);\n      updatedUser.profilePic = filename;\n      try {\n        await axios.post ('/upload', data);\n      } catch (err) {}\n    }\n    try {\n      const res = await axios.put ('/users/' + user._id, updatedUser);\n      setSuccess (true);\n      dispatch ({type: 'UPDATE_SUCCESS', payload: res.data});\n    } catch (err) {\n      dispatch ({type: 'UPDATE_FAILURE'});\n    }\n  };\n  return (\n    <div className=\"settings\">\n      <div className=\"settingsWrapper\">\n        <div className=\"settingsTitle\">\n          <span className=\"settingsUpdateTitle\">Update Your Account</span>\n          <span className=\"settingsDeleteTitle\">Delete Account</span>\n        </div>\n        <form className=\"settingsForm\" onSubmit={handleSubmit}>\n          <label>Profile Picture</label>\n          <div className=\"settingsPP\">\n            <img\n              src={file ? URL.createObjectURL (file) : PF + user.profilePic}\n              alt=\"\"\n            />\n            <label htmlFor=\"fileInput\">\n              <i className=\"settingsPPIcon far fa-user-circle\" />\n            </label>\n            <input\n              type=\"file\"\n              id=\"fileInput\"\n              style={{display: 'none'}}\n              onChange={e => setFile (e.target.files[0])}\n            />\n          </div>\n          <label>Username</label>\n          <input\n            type=\"text\"\n            placeholder={user.username}\n            onChange={e => setUsername (e.target.value)}\n          />\n          <label>Email</label>\n          <input\n            type=\"email\"\n            placeholder={user.email}\n            onChange={e => setEmail (e.target.value)}\n          />\n          <label>Password</label>\n          <input type=\"password\" onChange={e => setPassword (e.target.value)} />\n          <button className=\"settingsSubmit\" type=\"submit\">\n            Update\n          </button>\n          {success &&\n            <span\n              style={{color: 'green', textAlign: 'center', marginTop: '20px'}}\n            >\n              Profile has been updated...\n            </span>}\n        </form>\n      </div>\n      <Sidebar />\n    </div>\n  );\n}\n","import axios from 'axios';\nimport { useContext, useEffect, useState } from \"react\";\nimport {Link, useLocation} from 'react-router-dom';\nimport './singlePost.css';\nimport { Context } from \"../../context/Context\";\nimport \"./singlePost.css\";\n\nexport default function SinglePost () {\n  const location = useLocation ();\n  const path = location.pathname.split ('/')[2];\n  const [post, setPost] = useState ({});\n  const PF = \"https://dynamicblogapp.herokuapp.com/images/\";\n  const { user } = useContext(Context);\n  const [title, setTitle] = useState(\"\");\n  const [desc, setDesc] = useState(\"\");\n  const [updateMode, setUpdateMode] = useState(false);\n\n  useEffect(() => {\n    const getPost = async () => {\n      const res = await axios.get(\"/posts/\" + path);\n      setPost(res.data);\n      setTitle(res.data.title);\n      setDesc(res.data.desc);\n    };\n    getPost();\n  }, [path]);\n\n  const handleDelete = async () => {\n    try {\n      await axios.delete(`/posts/${post._id}`, {\n        data: { username: user.username },\n      });\n      window.location.replace(\"/\");\n    } catch (err) {}\n  };\n\n  const handleUpdate = async () => {\n    try {\n      await axios.put(`/posts/${post._id}`, {\n        username: user.username,\n        title,\n        desc,\n      });\n      setUpdateMode(false)\n    } catch (err) {}\n  };\n\n  return (\n    <div className=\"singlePost\">\n      <div className=\"singlePostWrapper\">\n        {post.photo && (\n          <img src={PF + post.photo} alt=\"\" className=\"singlePostImg\" />\n        )}\n        {updateMode ? (\n          <input\n            type=\"text\"\n            value={title}\n            className=\"singlePostTitleInput\"\n            autoFocus\n            onChange={(e) => setTitle(e.target.value)}\n          />\n        ) : (\n          <h1 className=\"singlePostTitle\">\n            {title}\n            {post.username === user?.username && (\n              <div className=\"singlePostEdit\">\n                <i\n                  className=\"singlePostIcon far fa-edit\"\n                  onClick={() => setUpdateMode(true)}\n                ></i>\n                <i\n                  className=\"singlePostIcon far fa-trash-alt\"\n                  onClick={handleDelete}\n                ></i>\n              </div>\n            )}\n          </h1>\n        )}\n        <div className=\"singlePostInfo\">\n          <span className=\"singlePostAuthor\">\n            Author:\n            <Link to={`/?user=${post.username}`} className=\"link\">\n              <b> {post.username}</b>\n            </Link>\n          </span>\n          <span className=\"singlePostDate\">\n            {new Date(post.createdAt).toDateString()}\n          </span>\n        </div>\n        {updateMode ? (\n          <textarea\n            className=\"singlePostDescInput\"\n            value={desc}\n            maxLength={10}\n            onChange={(e) => setDesc(e.target.value)}\n          />\n        ) : (\n          <p className=\"singlePostDesc\">{desc}</p>\n        )}\n        {updateMode && (\n          <button className=\"singlePostButton\" onClick={handleUpdate}>\n            Update\n          </button>\n        )}\n      </div>\n    </div>\n  );\n}\n","import Sidebar from \"../../components/sidebar/Sidebar\";\nimport SinglePost from \"../../components/singlePost/SinglePost\";\nimport \"./single.css\";\n\nexport default function Single() {\n  return (\n    <div className=\"single\">\n      <SinglePost />\n      <Sidebar />\n    </div>\n  );\n}\n","import {useContext, useState} from 'react';\nimport './write.css';\nimport axios from 'axios';\nimport {Context} from '../../context/Context';\n\nexport default function Write () {\n  const [title, setTitle] = useState ('');\n  const [desc, setDesc] = useState ('');\n  const [file, setFile] = useState (null);\n  const {user} = useContext (Context);\n\n  const handleSubmit = async e => {\n    e.preventDefault ();\n    const newPost = {\n      username: user.username,\n      title,\n      desc,\n    };\n    if (file) {\n      const data = new FormData ();\n      const filename = Date.now () + file.name;\n      data.append ('name', filename);\n      data.append ('file', file);\n      newPost.photo = filename;\n      try {\n        await axios.post ('/upload', data);\n      } catch (err) {}\n    }\n    try {\n      const res = await axios.post ('/posts', newPost);\n      window.location.replace ('/post/' + res.data._id);\n    } catch (err) {}\n  };\n\n  return (\n    <div className=\"write\">\n      {file &&\n        <img className=\"writeImg\" src={URL.createObjectURL (file)} alt=\"\" />}\n      <form className=\"writeForm\" onSubmit={handleSubmit}>\n        <div className=\"writeFormGroup\">\n          <label htmlFor=\"fileInput\">\n            <i className=\"writeIcon fas fa-plus\" />\n          </label>\n          <input\n            type=\"file\"\n            id=\"fileInput\"\n            style={{display: 'none'}}\n            onChange={e => setFile (e.target.files[0])}\n          />\n          <input\n            type=\"text\"\n            placeholder=\"Title\"\n            className=\"writeInput\"\n            autoFocus={true}\n            onChange={e => setTitle (e.target.value)}\n          />\n        </div>\n        <div className=\"writeFormGroup\">\n          <textarea\n            placeholder=\"Tell your story\"\n            type=\"text\"\n            className=\"writeInput writeText\"\n            onChange={e => setDesc (e.target.value)}\n          />\n        </div>\n        <button className=\"writeSubmit\" type=\"submit\">\n          Publish\n        </button>\n      </form>\n    </div>\n  );\n}\n","import Topbar from './components/topbar/Topbar';\nimport Homepage from './pages/homepage/Homepage';\nimport Login from './pages/login/Login';\nimport Register from './pages/register/Register';\nimport Settings from './pages/settings/Settings';\nimport Single from './pages/single/Single';\nimport Write from './pages/write/Write';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport {useContext} from 'react';\nimport {Context} from './context/Context';\n\nfunction App () {\n  const {user} = useContext (Context);\n\n  return (\n    <Router>\n      <Topbar />\n      <Switch>\n        <Route exact path=\"/\">\n          <Homepage />\n        </Route>\n        <Route path=\"/register\">{user ? <Homepage /> : <Register />}</Route>\n        <Route path=\"/login\">{user ? <Homepage /> : <Login />}</Route>\n        <Route path=\"/write\">{user ? <Write /> : <Register />}</Route>\n        <Route path=\"/settings\">{user ? <Settings /> : <Register />}</Route>\n        <Route path=\"/post/:postId\">\n          <Single />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {ContextProvider} from './context/Context';\n\nReactDOM.render (\n  <React.StrictMode>\n    <ContextProvider>\n      <App />\n    </ContextProvider>\n  </React.StrictMode>,\n  document.getElementById ('root')\n);\n"],"sourceRoot":""}